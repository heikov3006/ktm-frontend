{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/hugo/Documents/Praktikum2024/ktm-maintenance-frontend/src/app/service/page.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport { Bike } from '../model/Bike';\nimport { Service } from '../model/Service';\n\nexport default function AddService() {\n  const [fin, setFin] = useState('');\n  const [km, setKm] = useState('');\n  const [selectedService, setService] = useState<number | null>(null);\n  const [services, setServices] = useState<Service[]>([]);\n  const [bikes, setBikes] = useState<Bike[]>([]);\n  const [selectedBikeId, setSelectedBikeId] = useState<number | null>(null);\n  const baseUrl = 'https://it200287.cloud.htl-leonding.ac.at/api/maintenance'\n  const baseUrlTest = 'http://localhost:8080/maintenance'\n\n  useEffect(() => {\n    const fetchBikes = async () => {\n      try {\n        const response = await fetch(`${baseUrl}/allBikes`);\n        const data = await response.json();\n        setBikes(data as Bike[]);\n      } catch (error) {\n        console.error('Fehler beim Laden der Bikes:', error);\n      }\n    };\n\n    fetchBikes();\n  }, []);\n\n  useEffect(() => {\n    const fetchServices = async () => {\n      if (!selectedBikeId) return;\n\n      try {\n        const response = await fetch(`${baseUrl}/getServicesByBike/${selectedBikeId}`);\n        const data = await response.json();\n        console.log('Services Response:', data.services);\n        setServices(data.services);\n      } catch (error) {\n        console.error('Fehler beim Laden der Services:', error);\n      }\n    };\n\n    fetchServices();\n  }, [selectedBikeId]);\n\n  const handleAddService = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n\n    const formData = new FormData(e.currentTarget);\n    //formData.append('bikeId', String(selectedBikeId));\n\n\n    const formJson = Object.fromEntries(formData.entries());\n    console.log(formJson)\n\n\n    try {\n\n      const response = await fetch(`${baseUrl}/addServiceHistoryFromShop`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formJson),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      setService(null)\n      setFin('')\n      setKm('')\n\n\n      alert('Kilometer erfolgreich hinzugefügt!');\n    } catch (error) {\n\n      alert('Kilometer erfolgreich hinzugefügt!');\n    }\n  };\n\n  const styles = {\n    container: {\n      fontFamily: 'Arial, sans-serif',\n      backgroundColor: '#1e1e1e',\n      color: '#fff',\n      minHeight: '100vh',\n    },\n    navbar: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      backgroundColor: '#f97316',\n      padding: '1rem 2rem',\n    },\n    brand: {\n      fontSize: '1.5rem',\n      fontWeight: 'bold',\n    },\n    navLinks: {\n      listStyle: 'none',\n      display: 'flex',\n      gap: '1rem',\n      margin: 0,\n      padding: 0,\n    },\n    link: {\n      textDecoration: 'none',\n      color: '#fff',\n      fontWeight: 'bold',\n    },\n    formContainer: {\n      maxWidth: 400,\n      margin: '0 auto',\n      marginTop: 30,\n      padding: 30,\n      border: '1px solid #f97316',\n      borderRadius: 12,\n      backgroundColor: '#1e1e1e',\n      color: '#f97316',\n      fontFamily: 'Arial, sans-serif',\n    },\n  };\n\n  return (\n    <div style={styles.container}>\n      <nav style={styles.navbar}>\n        <h1 style={styles.brand}>KTM Maintenance</h1>\n        <ul style={styles.navLinks}>\n          <li>\n            <Link href=\"/\" style={styles.link}>\n              Home\n            </Link>\n          </li>\n          <li>\n            <Link href=\"/addKm\" style={styles.link}>\n              Kilometer hinzufügen\n            </Link>\n          </li>\n          <li>\n            <Link href=\"/service\" style={styles.link}>\n              Service hinzufügen\n            </Link>\n          </li>\n        </ul>\n      </nav>\n\n      <div style={styles.formContainer}>\n        <h2 style={{ textAlign: 'center', marginBottom: 20 }}>\n          KTM Bike - Service hinzufügen\n        </h2>\n\n        <form onSubmit={handleAddService}>\n          <div style={{ marginBottom: 20 }}>\n            <label htmlFor=\"bikeSelect\" style={{ display: 'block', marginBottom: 5 }}>\n              Bike auswählen:\n            </label>\n            <select\n              id=\"bikeSelect\"\n              name=\"bike\"\n              value={selectedBikeId !== null ? selectedBikeId : ''}\n              onChange={(e) => setSelectedBikeId(Number(e.target.value))}\n              style={{\n                width: '100%',\n                padding: 10,\n                borderRadius: 6,\n                border: '1px solid #ccc',\n              }}\n              required\n            >\n              <option value=\"\">Bitte auswählen</option>\n              {bikes.map((bike: Bike) => (\n                <option key={bike.id} value={bike.id}>\n                  {bike.brand} {bike.model}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {selectedBikeId !== null && (\n            <div style={{ marginBottom: 20 }}>\n              <label htmlFor=\"serviceInput\" style={{ display: 'block', marginBottom: 5 }}>\n                Service auswählen:\n              </label>\n              <select\n                id=\"serviceInput\"\n                name=\"service\"\n                value={selectedService !== null ? selectedService : ''}\n                onChange={(e) => setService(Number(e.target.value))}\n                style={{\n                  width: '100%',\n                  padding: 10,\n                  borderRadius: 6,\n                  border: '1px solid #ccc',\n                }}\n                required\n              >\n                <option value=\"\">Bitte auswählen</option>\n                {services.map((serviceItem: Service) => (\n                  <option key={serviceItem.serviceId} value={serviceItem.serviceId}>\n                    {serviceItem.title}\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          <div style={{ marginBottom: 15 }}>\n            <label htmlFor=\"finInput\" style={{ display: 'block', marginBottom: 5 }}>\n              FIN:\n            </label>\n            <input\n              id=\"finInput\"\n              name=\"fin\"\n              placeholder=\"FIN eingeben\"\n              value={fin}\n              onChange={(e) => setFin(e.target.value)}\n              style={{\n                width: '100%',\n                padding: 10,\n                borderRadius: 6,\n                border: '1px solid #ccc',\n              }}\n              required\n            />\n          </div>\n\n          <div style={{ marginBottom: 20 }}>\n            <label htmlFor=\"kmInput\" style={{ display: 'block', marginBottom: 5 }}>\n              Kilometer beim Service:\n            </label>\n            <input\n              id=\"kmInput\"\n              name=\"km\"\n              type=\"number\"\n              placeholder=\"KM\"\n              value={km}\n              onChange={(e) => setKm(e.target.value)}\n              style={{\n                width: '100%',\n                padding: 10,\n                borderRadius: 6,\n                border: '1px solid #ccc',\n              }}\n              required\n            />\n          </div>\n\n          <button\n            type=\"submit\"\n            style={{\n              width: '100%',\n              padding: 12,\n              backgroundColor: '#f97316',\n              color: '#fff',\n              fontWeight: 'bold',\n              border: 'none',\n              borderRadius: 6,\n              cursor: 'pointer',\n              transition: 'background-color 0.3s',\n            }}\n            onMouseOver={(e) => (e.currentTarget.style.backgroundColor = '#ea580c')}\n            onMouseOut={(e) => (e.currentTarget.style.backgroundColor = '#f97316')}\n          >\n            Speichern\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}